<!DOCTYPE html><!-- /products/list -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="common/head :: head_fragment(title = '商品一覧', scripts = ~{::script}, links = ~{::link})">
	<div class="container">
		<div class="header">
			<title>商品一覧</title>
			<link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.3/css/bootstrap.min.css}">
			<link rel="stylesheet" th:href="@{/css/list.css}">
</head>

<body>
	<div class="container">
		<div class="header">
			<h1>商品一覧</h1>
			<div class="button-container">
				<a th:href="@{/logout}" class="btn btn-secondary">ログアウト</a>
				<a th:href="@{/shop/list}" class="btn btn-primary">ショップ一覧に戻る</a>
			</div>
		</div>
		<div class="product-container">
			<div th:each="product : ${products}" class="product-card">
				<h2 th:text="${product.name}"></h2>
				<p th:text="${product.description}"></p>
				<p><strong>価格:</strong> <span th:text="${product.price}">0</span></p>
				<p><strong>在庫:</strong> <span th:text="${product.stock}">0</span></p>
				<div>
					<a th:href="@{/products/{id}(id=${product.id})}" class="btn btn-primary">詳細</a>
					<div th:if="${product.shop.user.id == loggedInUserId}">
						<a th:href="@{/products/{id}/edit(id=${product.id})}" class="btn btn-secondary">編集</a>
						<a th:href="@{/products/{id}/delete(id=${product.id})}" class="btn btn-danger">削除</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>